// Enable the JWT/OIDC auth method in HCP Vault using your terminal
vault auth enable jwt

// Define the jwt config. When using the jwt auth method, you only need the oidc discovery url and sometimes a TLS certificate authority to trust
vault write auth/jwt/config \
    oidc_discovery_url="https://oidc.eks.us-east-2.amazonaws.com/id/70E6A5C14C513E0BABEE36DD5AF0AA34" \
    default_role="eks"
    
// Define the role for a specific service account or many services account. You can create a role per service account if they don't have the same TTL or the policies. 
vault write auth/jwt/role/eks @roleseks.json 

The user_claim is tied to the identity of the cluster instead of the subject. The subject refers to the service account.
You can check the token claims in the jwt.io website
  
// Create the service account's token to connect to the Vault cluster
kubectl create token saandrea -n andrea
    
